<!DOCTYPE html>
<html>
<head>
    <title>Create Sample Trip Data</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .button { background: #3b82f6; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; margin: 10px; }
        .button:hover { background: #2563eb; }
        .success { background: #10b981; color: white; padding: 12px; border-radius: 8px; margin: 10px 0; }
        .info { background: #f3f4f6; padding: 15px; border-radius: 8px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üéØ Create Sample Trip Data</h1>
    <p>This will create some sample trips so you can test the new drag/drop performance improvements.</p>
    
    <div class="info">
        <h3>üöÄ What this will create:</h3>
        <ul>
            <li><strong>Paris Adventure</strong> - 5-day cultural trip with Eiffel Tower, Louvre, etc.</li>
            <li><strong>Tokyo Family Trip</strong> - 7-day family trip with kid-friendly activities</li>
            <li><strong>New York Food Tour</strong> - 3-day foodie adventure</li>
        </ul>
    </div>

    <button class="button" onclick="createSampleData()">‚ú® Create Sample Trips</button>
    <button class="button" onclick="clearAllData()">üóëÔ∏è Clear All Data</button>

    <div id="results"></div>

    <script>
        function createSampleData() {
            const results = document.getElementById('results');
            results.innerHTML = '<div class="info">Creating sample data...</div>';

            try {
                // Create sample user if none exists
                let users = JSON.parse(localStorage.getItem('wanderplan_users') || '[]');
                let currentUser = JSON.parse(localStorage.getItem('wanderplan_user') || 'null');
                
                if (!currentUser) {
                    const sampleUser = {
                        id: 'user-sample-' + Date.now(),
                        email: 'test@example.com',
                        full_name: 'Sample User',
                        role: 'admin',
                        auth_provider: 'local',
                        email_verified: true,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    };
                    
                    users.push(sampleUser);
                    localStorage.setItem('wanderplan_users', JSON.stringify(users));
                    localStorage.setItem('wanderplan_user', JSON.stringify(sampleUser));
                    localStorage.setItem('authToken', 'sample-token-' + Date.now());
                    currentUser = sampleUser;
                }

                // Sample trips data
                const sampleTrips = [
                    {
                        id: 'trip-paris-' + Date.now(),
                        title: 'Paris Adventure - 5 Days',
                        destination: 'Paris, France',
                        start_date: '2024-06-15',
                        end_date: '2024-06-20',
                        trip_type: 'cultural',
                        group_size: 2,
                        has_kids: false,
                        pace: 'moderate',
                        preferences: ['culture', 'foodie', 'history'],
                        is_guide: false,
                        is_public: false,
                        original_input: 'Sample Paris trip',
                        collaborators: [],
                        latitude: 48.8566,
                        longitude: 2.3522,
                        created_by: currentUser.id,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    },
                    {
                        id: 'trip-tokyo-' + Date.now(),
                        title: 'Tokyo Family Trip - 7 Days',
                        destination: 'Tokyo, Japan',
                        start_date: '2024-07-01',
                        end_date: '2024-07-08',
                        trip_type: 'family',
                        group_size: 4,
                        has_kids: true,
                        pace: 'relaxed',
                        preferences: ['culture', 'nature', 'foodie'],
                        is_guide: false,
                        is_public: false,
                        original_input: 'Sample Tokyo family trip',
                        collaborators: [],
                        latitude: 35.6762,
                        longitude: 139.6503,
                        created_by: currentUser.id,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    },
                    {
                        id: 'trip-nyc-' + Date.now(),
                        title: 'New York Food Tour - 3 Days',
                        destination: 'New York City, NY',
                        start_date: '2024-08-10',
                        end_date: '2024-08-13',
                        trip_type: 'foodie',
                        group_size: 2,
                        has_kids: false,
                        pace: 'packed',
                        preferences: ['foodie', 'culture', 'nightlife'],
                        is_guide: false,
                        is_public: false,
                        original_input: 'Sample NYC food tour',
                        collaborators: [],
                        latitude: 40.7128,
                        longitude: -74.0060,
                        created_by: currentUser.id,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    }
                ];

                // Sample places for Paris trip
                const parisPlaces = [
                    { name: 'Eiffel Tower', category: 'attraction', day: 1, order: 0, start_time: '09:00', end_time: '11:00' },
                    { name: 'Seine River Cruise', category: 'activity', day: 1, order: 1, start_time: '14:00', end_time: '15:30' },
                    { name: 'Le Comptoir du Relais', category: 'restaurant', day: 1, order: 2, start_time: '19:00', end_time: '21:00' },
                    { name: 'Louvre Museum', category: 'attraction', day: 2, order: 0, start_time: '09:30', end_time: '12:30' },
                    { name: 'Caf√© de Flore', category: 'cafe', day: 2, order: 1, start_time: '13:00', end_time: '14:00' },
                    { name: 'Notre-Dame Cathedral', category: 'attraction', day: 2, order: 2, start_time: '15:00', end_time: '16:30' },
                    { name: 'Montmartre Walking Tour', category: 'activity', day: 3, order: 0, start_time: '10:00', end_time: '12:00' },
                    { name: 'Sacr√©-C≈ìur Basilica', category: 'attraction', day: 3, order: 1, start_time: '12:30', end_time: '13:30' },
                ];

                // Sample places for Tokyo trip
                const tokyoPlaces = [
                    { name: 'Tokyo Disneyland', category: 'activity', day: 1, order: 0, start_time: '09:00', end_time: '18:00' },
                    { name: 'Senso-ji Temple', category: 'attraction', day: 2, order: 0, start_time: '09:00', end_time: '10:30' },
                    { name: 'Tokyo Skytree', category: 'attraction', day: 2, order: 1, start_time: '14:00', end_time: '16:00' },
                    { name: 'Ueno Park and Zoo', category: 'activity', day: 3, order: 0, start_time: '09:30', end_time: '12:30' },
                    { name: 'Akihabara Electronics District', category: 'shop', day: 3, order: 1, start_time: '14:00', end_time: '16:00' },
                ];

                // Sample places for NYC trip
                const nycPlaces = [
                    { name: "Joe's Pizza", category: 'restaurant', day: 1, order: 0, start_time: '12:00', end_time: '13:00' },
                    { name: 'Katz\'s Delicatessen', category: 'restaurant', day: 1, order: 1, start_time: '18:00', end_time: '19:30' },
                    { name: 'Central Park Food Tour', category: 'activity', day: 2, order: 0, start_time: '10:00', end_time: '13:00' },
                    { name: 'Chelsea Market', category: 'shop', day: 2, order: 1, start_time: '15:00', end_time: '17:00' },
                    { name: 'Peter Luger Steak House', category: 'restaurant', day: 3, order: 0, start_time: '19:00', end_time: '21:00' },
                ];

                // Create places with trip IDs
                const allPlaces = [];
                const trips = [...sampleTrips];

                // Paris places
                parisPlaces.forEach(place => {
                    allPlaces.push({
                        id: 'place-paris-' + place.order + '-' + place.day + '-' + Date.now(),
                        trip_id: trips[0].id,
                        ...place,
                        address: 'Paris, France',
                        latitude: 48.8566 + (Math.random() - 0.5) * 0.1,
                        longitude: 2.3522 + (Math.random() - 0.5) * 0.1,
                        duration: 90,
                        notes: '',
                        website: '',
                        phone: '',
                        is_locked: false,
                        is_reservation: false,
                        place_id: null,
                        photo_url: null,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    });
                });

                // Tokyo places
                tokyoPlaces.forEach(place => {
                    allPlaces.push({
                        id: 'place-tokyo-' + place.order + '-' + place.day + '-' + Date.now(),
                        trip_id: trips[1].id,
                        ...place,
                        address: 'Tokyo, Japan',
                        latitude: 35.6762 + (Math.random() - 0.5) * 0.1,
                        longitude: 139.6503 + (Math.random() - 0.5) * 0.1,
                        duration: 120,
                        notes: '',
                        website: '',
                        phone: '',
                        is_locked: false,
                        is_reservation: false,
                        place_id: null,
                        photo_url: null,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    });
                });

                // NYC places
                nycPlaces.forEach(place => {
                    allPlaces.push({
                        id: 'place-nyc-' + place.order + '-' + place.day + '-' + Date.now(),
                        trip_id: trips[2].id,
                        ...place,
                        address: 'New York City, NY',
                        latitude: 40.7128 + (Math.random() - 0.5) * 0.1,
                        longitude: -74.0060 + (Math.random() - 0.5) * 0.1,
                        duration: 90,
                        notes: '',
                        website: '',
                        phone: '',
                        is_locked: false,
                        is_reservation: false,
                        place_id: null,
                        photo_url: null,
                        created_date: new Date().toISOString(),
                        updated_date: new Date().toISOString()
                    });
                });

                // Save to localStorage
                localStorage.setItem('wanderplan_trips', JSON.stringify(trips));
                localStorage.setItem('wanderplan_places', JSON.stringify(allPlaces));

                results.innerHTML = `
                    <div class="success">
                        ‚úÖ Sample data created successfully!<br>
                        ‚Ä¢ Created ${trips.length} trips<br>
                        ‚Ä¢ Created ${allPlaces.length} places<br>
                        ‚Ä¢ Set up user account<br><br>
                        <strong>Go to http://localhost:5176/ to see your trips!</strong>
                    </div>
                `;

            } catch (error) {
                results.innerHTML = `<div style="background: #ef4444; color: white; padding: 12px; border-radius: 8px;">‚ùå Error: ${error.message}</div>`;
            }
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all data? This cannot be undone!')) {
                const keys = Object.keys(localStorage).filter(key => 
                    key.includes('wanderplan') || key.includes('auth')
                );
                
                keys.forEach(key => localStorage.removeItem(key));
                
                document.getElementById('results').innerHTML = `
                    <div class="success">üóëÔ∏è All data cleared. You can now create sample data or start fresh.</div>
                `;
            }
        }
    </script>
</body>
</html>